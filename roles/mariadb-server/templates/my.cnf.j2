#####################################################################
#
#
# {{ ansible_managed }}
#
#
#####################################################################

[mysqld]
datadir={{ mysql_datadir }}
bind_address={{ mariadb_bind_address }}
socket=/var/lib/mysql/mysql.sock
user=mysql
symbolic-links=0
port={{ mysql_port }}
max_connections=500
sort_buffer_size=30M
join_buffer_size=50M
read_buffer_size=1M
tmp_table_size=256M
skip-name-resolve=1
# Query Cache
query_cache_type = 1
query_cache_limit = 256K
query_cache_min_res_unit = 2k
query_cache_size = 80M
# Slow Query Log
slow_query_log = 1
slow_query_log_file = /var/log/mysqld_slow.log
long_query_time = 0.1
log-queries-not-using-indexes

[mysqld_safe]
log-error=/var/log/mariadb/mariadb.log
pid-file=/var/run/mariadb/mysqld.pid
